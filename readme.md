# ZOND — Сервис курсов валют

**ZOND** — это веб-сервис, который предоставляет надежный доступ к курсам валют. Приложение спроектировано с упором на отказоустойчивость и скорость: оно автоматически переключается между источниками данных и кеширует результаты, чтобы обеспечить пользователям быстрый и бесперебойный доступ к информации.

## GitHub
https://github.com/Diglander/ZOND
## Полностью функциональное ВЕБ-ПРИЛОЖЕНИЕ
https://diglander.pythonanywhere.com/

## Ключевые особенности

**Отказоустойчивость:** Автоматическое переключение на резервный API (Центрального Банка РФ) при недоступности основного (ExchangeRate-API).

**Принудительное обновление:** Пользователи могут вручную инициировать обновление курсов с любого из двух API прямо через веб-интерфейс.

**Кеширование в БД:** Актуальные курсы на текущий день сохраняются в локальную базу данных (SQLite), что минимизирует запросы к внешним сервисам и значительно ускоряет загрузку.

**Чистая архитектура:** Логика разделена на слои: контроллеры (app.py), сервисы (services.py), клиенты API (api_clients.py) и модели данных (models.py).

**Автоматическое тестирование:** Качество и надежность кода подтверждены модульными тестами.

**Внешний деплой:** Проект развернут на внешнем сервере и доступен для демонстрации.

## Стек технологий

**Бэкенд:** Python, Flask, SQLAlchemy

**База данных:** SQLite

**Тестирование:** Pytest, pytest-mock

**Инструменты:** Loguru, python-dotenv

## Установка и запуск

### 1. Клонируйте репозиторий

```bash
git clone https://github.com/Diglander/ZOND.git
cd ZOND
```

### 2. Создайте и активируйте виртуальное окружение

**macOS/Linux:**
```bash
python3 -m venv .venv
source .venv/bin/activate
```

**Windows:**
```bash
python -m venv .venv
.venv\Scripts\activate
```

### 3. Установите зависимости

```bash
pip install -r requirements.txt
```

### 4. Настройте переменные окружения

Создайте файл `.env` в корневой папке проекта и добавьте в него ваши API-ключи:

```ini
API_KEY_env="ВАШ_КЛЮЧ_ОТ_EXCHANGERATE-API"
CB_API_env="https://www.cbr.ru/scripts/XML_daily.asp"
```

### 5. Запустите приложение

```bash
flask run
```

База данных `database.db` будет создана автоматически при первом запуске. Откройте **http://127.0.0.1:5000** в вашем браузере.

## Тестирование

Проект покрыт модульными тестами для проверки корректности парсинга ответов от внешних API.

Для запуска тестов выполните команду:

```bash
pytest
```