ZOND — Сервис курсов валют

Компактное и отказоустойчивое веб-приложение на Flask для отображения актуальных курсов валют. Приложение использует основной и резервный API, кеширует результаты в базу данных для быстрой отдачи и покрыто модульными тестами.

Ключевые особенности

Отказоустойчивость: Автоматическое переключение на резервный API (ЦБ РФ) при недоступности основного (ExchangeRate-API).

Кеширование в БД: Курсы на текущий день сохраняются в локальную базу данных (SQLite), чтобы минимизировать запросы к внешним сервисам и ускорить загрузку.

Чистая архитектура: Логика разделена на слои: контроллеры (app.py), сервисы (services.py), клиенты API (api_clients.py) и модели данных (models.py).

Тестирование: Модульные тесты для логики работы с API написаны с использованием pytest и pytest-mock.

Стек технологий

Бэкенд: Python, Flask, SQLAlchemy

Тестирование: Pytest

База данных: SQLite

Инструменты: Loguru, python-dotenv

ИНСТРУКЦИЯ:

1) Клонируйте репозиторий:

git clone https://github.com/Diglander/ZOND.git


Создайте и активируйте виртуальное окружение:

macOS/Linux:
python3 -m venv .venv
source .venv/bin/activate

Windows:
python -m venv .venv
.venv\Scripts\activate

Установите зависимости:

pip install -r requirements.txt

Настройте переменные окружения:

Создайте файл .env в корне проекта и добавьте в него ваши ключи:

API_KEY_env="ВАШ_КЛЮЧ_ОТ_EXCHANGERATE-API"
CB_API_env="https://www.cbr.ru/scripts/XML_daily.asp"

Запустите приложение:

flask run

База данных database.db будет создана автоматически при первом запуске. Откройте http://127.0.0.1:5000 в вашем браузере.